# äº”é™©ä¸€é‡‘è®¡ç®—å™¨

ä¸€ä¸ªåŸºäº Next.js çš„äº”é™©ä¸€é‡‘è®¡ç®—å™¨ Web åº”ç”¨ï¼Œæ”¯æŒ Excel æ•°æ®ä¸Šä¼ å’Œè‡ªåŠ¨è®¡ç®—å…¬å¸åº”ç¼´é‡‘é¢ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ“Š **Excel æ•°æ®ä¸Šä¼ ** - æ”¯æŒä¸Šä¼ åŸå¸‚ç¤¾ä¿æ ‡å‡†å’Œå‘˜å·¥å·¥èµ„æ•°æ®
- ğŸ™ï¸ **å¤šåŸå¸‚æ”¯æŒ** - æ”¯æŒå¤šä¸ªåŸå¸‚çš„ä¸åŒç¤¾ä¿æ ‡å‡†
- ğŸ“… **å¹´ä»½ç­›é€‰** - æŒ‰å¹´ä»½ç­›é€‰å·¥èµ„æ•°æ®è¿›è¡Œè®¡ç®—
- ğŸ’° **è‡ªåŠ¨è®¡ç®—** - è‡ªåŠ¨è®¡ç®—æœˆå¹³å‡å·¥èµ„ã€ç¼´è´¹åŸºæ•°å’Œå…¬å¸åº”ç¼´é‡‘é¢
- ğŸ“± **å“åº”å¼è®¾è®¡** - æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡

## æŠ€æœ¯æ ˆ

- **å‰ç«¯**: Next.js 14 + TypeScript + Tailwind CSS
- **åç«¯**: Supabase (PostgreSQL)
- **Excel è§£æ**: xlsx (SheetJS)

## æ•°æ®åº“è¡¨ç»“æ„

### cities (åŸå¸‚ç¤¾ä¿æ ‡å‡†)
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | int | ä¸»é”® |
| city_name | varchar | åŸå¸‚åç§° |
| year | varchar | å¹´ä»½ |
| base_min | numeric | ç¼´è´¹åŸºæ•°ä¸‹é™ |
| base_max | numeric | ç¼´è´¹åŸºæ•°ä¸Šé™ |
| rate | numeric | ç¼´è´¹æ¯”ä¾‹ |

### salaries (å‘˜å·¥å·¥èµ„)
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | int | ä¸»é”® |
| employee_id | varchar | å‘˜å·¥ç¼–å· |
| employee_name | varchar | å‘˜å·¥å§“å |
| month | varchar | æœˆä»½ (YYYYMM) |
| salary_amount | numeric | å·¥èµ„é‡‘é¢ |

### results (è®¡ç®—ç»“æœ)
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | int | ä¸»é”® |
| employee_name | varchar | å‘˜å·¥å§“å |
| avg_salary | numeric | æœˆå¹³å‡å·¥èµ„ |
| contribution_base | numeric | ç¼´è´¹åŸºæ•° |
| company_fee | numeric | å…¬å¸åº”ç¼´é‡‘é¢ |

## è®¡ç®—é€»è¾‘

1. æŒ‰å‘˜å·¥å§“ååˆ†ç»„ï¼Œè®¡ç®—å¹´åº¦æœˆå¹³å‡å·¥èµ„
2. æ ¹æ®åŸå¸‚ç¤¾ä¿æ ‡å‡†ç¡®å®šç¼´è´¹åŸºæ•°ï¼ˆåœ¨ base_min å’Œ base_max ä¹‹é—´ï¼‰
3. å…¬å¸åº”ç¼´é‡‘é¢ = ç¼´è´¹åŸºæ•° Ã— ç¼´è´¹æ¯”ä¾‹

## å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/irst11/social-insurance-calculator.git
cd social-insurance-calculator
```

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```
NEXT_PUBLIC_SUPABASE_URL=ä½ çš„Supabaseé¡¹ç›®URL
NEXT_PUBLIC_SUPABASE_ANON_KEY=ä½ çš„SupabaseåŒ¿åå¯†é’¥
```

### 4. åˆ›å»ºæ•°æ®åº“è¡¨

åœ¨ Supabase æ§åˆ¶å°æ‰§è¡Œ SQL åˆ›å»ºä¸‰å¼ è¡¨ã€‚

### 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

æ‰“å¼€ [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

## Excel æ–‡ä»¶æ ¼å¼

### åŸå¸‚ç¤¾ä¿æ ‡å‡† (cities.xlsx)
| city_name | year | base_min | base_max | rate |
|-----------|------|----------|----------|------|
| ä½›å±± | 2024 | 3000 | 20000 | 0.16 |

### å‘˜å·¥å·¥èµ„æ•°æ® (salaries.xlsx)
| employee_id | employee_name | month | salary_amount |
|-------------|---------------|-------|---------------|
| E001 | å¼ ä¸‰ | 202401 | 8000 |

## License

MIT
